[gd_scene load_steps=11 format=3 uid="uid://def1alrel4ioo"]

[ext_resource type="PackedScene" uid="uid://1o2ta17yc5bp" path="res://game/entities/weapons/abstract_weapon.tscn" id="1_pki4x"]
[ext_resource type="Script" uid="uid://bxr150at8ul2a" path="res://game/entities/weapons/laser/abstract_laser_weapon.gd" id="2_lbdvb"]
[ext_resource type="Script" uid="uid://c27v705giygv4" path="res://game/data/damage/energy_damage.gd" id="3_2cxn5"]
[ext_resource type="Shader" uid="uid://bndty4otyxb5t" path="res://game/shaders/laser.gdshader" id="4_dsgqp"]
[ext_resource type="Texture2D" uid="uid://b13pk3rgmggc3" path="res://images/projectiles/laser.png" id="4_sanrs"]
[ext_resource type="Texture2D" uid="uid://dk3t14mrgjmma" path="res://particle_textures/energy_medium.tres" id="6_70bnd"]

[sub_resource type="Resource" id="Resource_sanrs"]
script = ExtResource("3_2cxn5")
value = 2
metadata/_custom_type_script = "uid://c27v705giygv4"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_70bnd"]
shader = ExtResource("4_dsgqp")
shader_parameter/speed = 10.0

[sub_resource type="SpriteFrames" id="SpriteFrames_btyhf"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_12kuh"]
particle_flag_disable_z = true
spread = 180.0
initial_velocity_min = 5.0
initial_velocity_max = 15.0
gravity = Vector3(0, 0, 0)

[node name="AbstractLaserWeapon" instance=ExtResource("1_pki4x")]
script = ExtResource("2_lbdvb")
damage = SubResource("Resource_sanrs")
line_texture_speed = 7.0
bullet_per_shot = 2
type = 2

[node name="Line2D" type="Line2D" parent="." index="0"]
material = SubResource("ShaderMaterial_70bnd")
width = 4.0
texture = ExtResource("4_sanrs")
texture_mode = 1

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="." index="1"]
sprite_frames = SubResource("SpriteFrames_btyhf")

[node name="CooldownTimer" type="Timer" parent="." index="2"]
process_callback = 0
wait_time = 0.05
one_shot = true

[node name="RayCast2D" type="RayCast2D" parent="." index="4"]
collision_mask = 0

[node name="HitParticles" type="GPUParticles2D" parent="." index="5"]
texture = ExtResource("6_70bnd")
lifetime = 0.2
process_material = SubResource("ParticleProcessMaterial_12kuh")

[connection signal="timeout" from="CooldownTimer" to="." method="_on_cooldown_timer_timeout"]
